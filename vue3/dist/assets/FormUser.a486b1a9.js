import{e as T,r as c,b as a,aJ as W,L as z,o as R,x as G,w as t,q as F,s as S,A as _,a as J,z as Q,d as o,aP as H,aQ as K}from"./index.68037d06.js";import{U as X}from"./UserComp.d5af4aea.js";import{a as Y,b as Z,c as $,d as ee,V as ae}from"./VCard.a8dc9b6e.js";import{m as le,c as te,V}from"./VTextField.3fa424cb.js";import{f as oe}from"./forwardRefs.54bb1675.js";import{h as se}from"./CRUD.c1c6f201.js";import{V as re,a as v}from"./VRow.78683adf.js";import{a as ue}from"./VAvatar.fb28827d.js";import{a as U}from"./VBtn.aff652ee.js";import"./index.0a737923.js";import"./transition.de4c50a9.js";const de=T({name:"VForm",props:{...le()},emits:{"update:modelValue":u=>!0,submit:u=>!0},setup(u,C){let{slots:A,emit:f}=C;const d=te(u),i=c();function p(n){n.preventDefault(),d.reset()}function x(n){const r=n,e=d.validate();r.then=e.then.bind(e),r.catch=e.catch.bind(e),r.finally=e.finally.bind(e),f("submit",r),r.defaultPrevented||e.then(g=>{let{valid:y}=g;if(y){var b;(b=i.value)==null||b.submit()}}),r.preventDefault()}return se(()=>{var n;return a("form",{ref:i,class:"v-form",novalidate:!0,onReset:p,onSubmit:x},[(n=A.default)==null?void 0:n.call(A,d)])}),oe(d,i)}}),E=u=>(H("data-v-79917f1f"),u=u(),K(),u),ne={class:"d-flex justify-center card"},ie=E(()=>_("p",null,"As informa\xE7\xF5es colocadas aqui ser\xE3o confirmadas ",-1)),me=E(()=>_("p",null,"posteriormente.",-1)),ce=E(()=>_("label",{class:"arqv mt-3",for:"arqv"},"Anexar Foto",-1)),fe={class:"mold-img d-flex justify-center align-center"},pe=["src"],ve={__name:"FormUser",props:{cad:Boolean},setup(u){const C=u,A=z(),f=c(null),d=c(null),i=c(!1),p=c(!0),x=c("Cadastro de cliente"),n=c("Cadastrar");let r=null;const{user:e,register:g,clearUser:y,getPerfil:b,update:k,NomeRules:w,cpfRules:I,EmailRules:P,pwRules:B,cfPwRules:h}=X();j();async function q(){C.cad==!0?(g(f,p.value),y(),N()):L()}function D(m){i.value=!0,r=m.target.files;const l=new FileReader;l.readAsDataURL(r[0]),l.addEventListener("load",()=>{d.value=l.result,f.value=r[0]})}function N(){i.value=!1,d.value=null,f.value=null}async function M(){let m=await b();e.ID.value=m.ID,e.EMAIL.value=m.EMAIL,e.CPF.value=m.CPF,e.NAME.value=m.NAME,d.value=m.IMAGE,i.value=!0}async function L(){k(f,p.value)}function j(){C.cad==!1&&(n.value="Editar",x.value="Editar Usuario",M())}function O(){A.back()}return(m,l)=>(R(),G("div",ne,[a(ae,{"max-width":"500px",class:"card-cad"},{default:t(()=>[a(Y,{class:"font-weight-bold"},{default:t(()=>[F(S(x.value),1)]),_:1}),a(Z,{class:"font-weight-black text-md-subtitle-1 text-caption"},{default:t(()=>[ie,me,ce]),_:1}),a($,{class:"d-flex flex-row mt-3 mt-md-0"},{default:t(()=>[a(de,{ref:"form",modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=s=>p.value=s),"lazy-validation":""},{default:t(()=>[a(re,null,{default:t(()=>[a(v,{cols:"12",class:"d-flex justify-center ml-sm-0"},{default:t(()=>[_("div",fe,[_("input",{type:"file",ref:"image",label:"Add Image",onChange:D,id:"arqv"},null,544),i.value?(R(),J(ue,{key:0,rounded:"0",size:"80"},{default:t(()=>[_("img",{class:"mt-0 mt-sm-0 img-cad",src:d.value},null,8,pe)]),_:1})):Q("",!0)])]),_:1}),a(v,{cols:"12",sm:"12"},{default:t(()=>[a(V,{modelValue:o(e).NAME.value,"onUpdate:modelValue":l[0]||(l[0]=s=>o(e).NAME.value=s),color:"#A58CB3",label:"Nome",rules:o(w),dark:"",required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(V,{modelValue:o(e).EMAIL.value,"onUpdate:modelValue":l[1]||(l[1]=s=>o(e).EMAIL.value=s),color:"#A58CB3",label:"Email",rules:o(P),dark:"",required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(V,{modelValue:o(e).CPF.value,"onUpdate:modelValue":l[2]||(l[2]=s=>o(e).CPF.value=s),color:"#A58CB3",rules:o(I),label:"Cpf",dark:"",required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(V,{modelValue:o(e).PASSWORD.value,"onUpdate:modelValue":l[3]||(l[3]=s=>o(e).PASSWORD.value=s),color:"#A58CB3",label:"Senha",dark:"",type:"password",rules:o(B),required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(V,{modelValue:o(e).CF_PASSWORD.value,"onUpdate:modelValue":l[4]||(l[4]=s=>o(e).CF_PASSWORD.value=s),color:"#A58CB3",label:"Confirme a senha",dark:"",type:"password",rules:o(h),required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(ee,{class:"d-flex justify-end mt-n3"},{default:t(()=>[a(U,{variant:"text",color:"#FEBE10",onClick:O},{default:t(()=>[F("Voltar")]),_:1}),a(U,{variant:"text",color:"#03C03C",onClick:q},{default:t(()=>[F(S(n.value),1)]),_:1})]),_:1})]),_:1})]))}},Se=W(ve,[["__scopeId","data-v-79917f1f"]]);export{Se as default};
