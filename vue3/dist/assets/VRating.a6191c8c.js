import{g as E,I as P,m as H,E as D,p as K,f as U,c as r,am as j,aF as q,r as I,a0 as G,b as l,F as R,n as J}from"./index.bfab535e.js";import{F as O,K as Q,c as W,h as X,r as Y}from"./CRUD.ebf42a23.js";const ee=E()({name:"VRating",props:{name:String,itemAriaLabel:{type:String,default:"$vuetify.rating.ariaLabel.item"},activeColor:String,color:String,clearable:Boolean,disabled:Boolean,emptyIcon:{type:P,default:"$ratingEmpty"},fullIcon:{type:P,default:"$ratingFull"},halfIncrements:Boolean,hover:Boolean,length:{type:[Number,String],default:5},readonly:Boolean,modelValue:{type:[Number,String],default:0},itemLabels:Array,itemLabelPosition:{type:String,default:"top",validator:e=>["top","bottom"].includes(e)},ripple:Boolean,...O(),...Q(),...W(),...H()},emits:{"update:modelValue":e=>!0},setup(e,$){let{slots:c}=$;const{t:w}=D(),{themeClasses:N}=K(e),M=U(e,"modelValue"),d=r(()=>j(parseFloat(M.value),0,+e.length)),_=r(()=>q(Number(e.length),1)),x=r(()=>_.value.flatMap(n=>e.halfIncrements?[n-.5,n]:[n])),m=I(-1),g=I(-1),L=I();let b=!1;const h=r(()=>x.value.map(n=>{var f;const o=e.hover&&m.value>-1,a=d.value>=n,t=m.value>=n,i=(o?t:a)?e.fullIcon:e.emptyIcon,s=(f=e.activeColor)!=null?f:e.color,y=a||t?s:e.color;return{isFilled:a,isHovered:t,icon:i,color:y}})),z=r(()=>[0,...x.value].map(n=>{function o(){m.value=n}function a(){m.value=-1}function t(){var s;n===0&&d.value===0?(s=L.value)==null||s.focus():g.value=n}function u(){b||(g.value=-1)}function i(){e.disabled||e.readonly||(M.value=d.value===n&&e.clearable?0:n)}return{onMouseenter:e.hover?o:void 0,onMouseleave:e.hover?a:void 0,onFocus:t,onBlur:u,onClick:i}}));function A(){b=!0}function T(){b=!1}const S=r(()=>{var n;return(n=e.name)!=null?n:`v-rating-${G()}`});function v(n){var k,C;let{value:o,index:a,showStar:t=!0}=n;const{onMouseenter:u,onMouseleave:i,onFocus:s,onBlur:y,onClick:f}=z.value[a+1],F=`${S.value}-${String(o).replace(".","-")}`,B={color:(k=h.value[a])==null?void 0:k.color,density:e.density,disabled:e.disabled,icon:(C=h.value[a])==null?void 0:C.icon,ripple:e.ripple,size:e.size,tag:"span",variant:"plain"};return l(R,null,[l("label",{for:F,class:{"v-rating__item--half":e.halfIncrements&&o%1>0,"v-rating__item--full":e.halfIncrements&&o%1===0},onMousedown:A,onMouseup:T,onMouseenter:u,onMouseleave:i},[l("span",{class:"v-rating__hidden"},[w(e.itemAriaLabel,o,e.length)]),t?c.item?c.item({...h.value[a],props:B,value:o,index:a}):l(Y,B,null):void 0]),l("input",{class:"v-rating__hidden",name:S.value,id:F,type:"radio",value:o,checked:d.value===o,onClick:f,onFocus:s,onBlur:y,ref:a===0?L:void 0,readonly:e.readonly,disabled:e.disabled},null)])}function V(n){return c["item-label"]?c["item-label"](n):n.label?l("span",null,[n.label]):l("span",null,[J("\xA0")])}return X(()=>{var o;const n=!!((o=e.itemLabels)!=null&&o.length)||c["item-label"];return l(e.tag,{class:["v-rating",{"v-rating--hover":e.hover,"v-rating--readonly":e.readonly},N.value]},{default:()=>[l(v,{value:0,index:-1,showStar:!1},null),_.value.map((a,t)=>{var u,i;return l("div",{class:"v-rating__wrapper"},[n&&e.itemLabelPosition==="top"?V({value:a,index:t,label:(u=e.itemLabels)==null?void 0:u[t]}):void 0,l("div",{class:["v-rating__item",{"v-rating__item--focused":Math.ceil(g.value)===a}]},[e.halfIncrements?l(R,null,[l(v,{value:a-.5,index:t*2},null),l(v,{value:a,index:t*2+1},null)]):l(v,{value:a,index:t},null)]),n&&e.itemLabelPosition==="bottom"?V({value:a,index:t,label:(i=e.itemLabels)==null?void 0:i[t]}):void 0])})]})}),{}}});export{ee as V};
