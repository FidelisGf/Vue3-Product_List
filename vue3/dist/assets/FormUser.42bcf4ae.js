import{g as T,r as c,b as a,aD as W,K as z,o as E,v as G,w as t,n as F,q as S,z as _,a as K,y as Q,d as o,aP as H,aQ as J}from"./index.bfab535e.js";import{U as X}from"./UserComp.d393b687.js";import{V as Y,a as Z,b as $,c as ee,d as ae}from"./VCard.30f22632.js";import{m as le,c as te,V as C}from"./VTextField.792df56d.js";import{f as oe}from"./forwardRefs.54bb1675.js";import{h as se,r as U}from"./CRUD.ebf42a23.js";import{V as re,a as v}from"./VRow.5238d267.js";import{a as ue}from"./VAvatar.62c25bed.js";import"./index.1f704c04.js";import"./transition.a7013c9d.js";const de=T()({name:"VForm",props:{...le()},emits:{"update:modelValue":u=>!0,submit:u=>!0},setup(u,b){let{slots:V,emit:f}=b;const d=te(u),i=c();function p(n){n.preventDefault(),d.reset()}function A(n){const r=n,e=d.validate();r.then=e.then.bind(e),r.catch=e.catch.bind(e),r.finally=e.finally.bind(e),f("submit",r),r.defaultPrevented||e.then(x=>{var g;let{valid:y}=x;y&&((g=i.value)==null||g.submit())}),r.preventDefault()}return se(()=>{var n;return a("form",{ref:i,class:"v-form",novalidate:!0,onReset:p,onSubmit:A},[(n=V.default)==null?void 0:n.call(V,d)])}),oe(d,i)}}),R=u=>(H("data-v-c752bb23"),u=u(),J(),u),ne={class:"d-flex justify-center card"},ie=R(()=>_("p",null,"As informa\xE7\xF5es colocadas aqui ser\xE3o confirmadas ",-1)),me=R(()=>_("p",null,"posteriormente.",-1)),ce=R(()=>_("label",{class:"arqv mt-3",for:"arqv"},"Anexar Foto",-1)),fe={class:"mold-img d-flex justify-center align-center"},pe=["src"],ve={__name:"FormUser",props:{cad:Boolean},setup(u){const b=u,V=z(),f=c(null),d=c(null),i=c(!1),p=c(!0),A=c("Cadastro de cliente"),n=c("Cadastrar");let r=null;const{user:e,register:x,clearUser:y,getPerfil:g,update:k,NomeRules:w,cpfRules:I,EmailRules:P,pwRules:B,cfPwRules:h}=X();j();async function D(){b.cad==!0?(x(f,p.value),y(),N()):L()}function q(m){i.value=!0,r=m.target.files;const l=new FileReader;l.readAsDataURL(r[0]),l.addEventListener("load",()=>{d.value=l.result,f.value=r[0]})}function N(){i.value=!1,d.value=null,f.value=null}async function M(){let m=await g();e.ID.value=m.ID,e.EMAIL.value=m.EMAIL,e.CPF.value=m.CPF,e.NAME.value=m.NAME,d.value=m.IMAGE,i.value=!0}async function L(){k(f,p.value)}function j(){b.cad==!1&&(n.value="Editar",A.value="Editar Usuario",M())}function O(){V.back()}return(m,l)=>(E(),G("div",ne,[a(ae,{"max-width":"500px",class:"card-cad"},{default:t(()=>[a(Y,{class:"font-weight-bold"},{default:t(()=>[F(S(A.value),1)]),_:1}),a(Z,{class:"font-weight-black text-md-subtitle-1 text-caption"},{default:t(()=>[ie,me,ce]),_:1}),a($,{class:"d-flex flex-row mt-3 mt-md-0"},{default:t(()=>[a(de,{ref:"form",modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=s=>p.value=s),"lazy-validation":""},{default:t(()=>[a(re,null,{default:t(()=>[a(v,{cols:"12",class:"d-flex justify-center ml-sm-0"},{default:t(()=>[_("div",fe,[_("input",{type:"file",ref:"image",label:"Add Image",onChange:q,id:"arqv"},null,544),i.value?(E(),K(ue,{key:0,rounded:"0",size:"80"},{default:t(()=>[_("img",{class:"mt-0 mt-sm-0 img-cad",src:d.value},null,8,pe)]),_:1})):Q("",!0)])]),_:1}),a(v,{cols:"12",sm:"12"},{default:t(()=>[a(C,{modelValue:o(e).NAME.value,"onUpdate:modelValue":l[0]||(l[0]=s=>o(e).NAME.value=s),color:"#A58CB3",label:"Nome",rules:o(w),dark:"",required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(C,{modelValue:o(e).EMAIL.value,"onUpdate:modelValue":l[1]||(l[1]=s=>o(e).EMAIL.value=s),color:"#A58CB3",label:"Email",rules:o(P),dark:"",required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(C,{modelValue:o(e).CPF.value,"onUpdate:modelValue":l[2]||(l[2]=s=>o(e).CPF.value=s),color:"#A58CB3",rules:o(I),label:"Cpf",dark:"",required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(C,{modelValue:o(e).PASSWORD.value,"onUpdate:modelValue":l[3]||(l[3]=s=>o(e).PASSWORD.value=s),color:"#A58CB3",label:"Senha",dark:"",type:"password",rules:o(B),required:""},null,8,["modelValue","rules"])]),_:1}),a(v,{cols:"12",sm:"6"},{default:t(()=>[a(C,{modelValue:o(e).CF_PASSWORD.value,"onUpdate:modelValue":l[4]||(l[4]=s=>o(e).CF_PASSWORD.value=s),color:"#A58CB3",label:"Confirme a senha",dark:"",type:"password",rules:o(h),required:""},null,8,["modelValue","rules"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),a(ee,{class:"d-flex justify-end mt-n3"},{default:t(()=>[a(U,{variant:"text",color:"#FEBE10",onClick:O},{default:t(()=>[F("Voltar")]),_:1}),a(U,{variant:"text",color:"#03C03C",onClick:D},{default:t(()=>[F(S(n.value),1)]),_:1})]),_:1})]),_:1})]))}},Ee=W(ve,[["__scopeId","data-v-c752bb23"]]);export{Ee as default};
