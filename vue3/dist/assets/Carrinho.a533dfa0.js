import{c as O,o as c,a as x,w as t,b as e,q as n,s as m,d as v,A as l,r as y,x as A,aJ as H,L as J,u as X,v as Y,aB as Z,y as ee,F as te,aO as le,z as L,aP as ae,aQ as oe}from"./index.68037d06.js";import{C as U}from"./Carrinho.4947e6cc.js";import{u as se}from"./CarrinhoStore.233db477.js";import{d as j,a as Q,b as q,c as B,V as z}from"./VCard.a8dc9b6e.js";import{a as r}from"./VBtn.aff652ee.js";import{q as g}from"./CRUD.c1c6f201.js";import{V as S,a as C}from"./VRow.78683adf.js";import{V as ne}from"./VTextField.3fa424cb.js";import{V as ie}from"./VContainer.21d6b0ae.js";import{V as R}from"./VSpacer.952a8dec.js";import{V as ce}from"./VDialog.d08fa5c0.js";import{V as de}from"./VAvatar.fb28827d.js";import{V as re}from"./VSheet.68b71799.js";import{V as ue}from"./VDivider.61516259.js";import"./index.0a737923.js";import"./forwardRefs.54bb1675.js";import"./transition.de4c50a9.js";import"./VOverlay.ca1525a2.js";import"./getScrollParent.d1b4c30e.js";import"./dialog-transition.a512909f.js";const me=l("p",null,"Siga os passos descritos a seguir",-1),fe=l("p",{class:"desc-detail text-body-2 mt-n2 mt-sm-0 text-sm-body-1 font-weight-medium"}," Quase tudo pronto. Agora nos envie o numero do seu pedido pelo whats ou por e-mail para prosseguirmos ao pagamento. ",-1),pe=l("p",null,[l("b",null,"Informa\xE7\xF5es de contato : ")],-1),_e=l("div",{class:"pl-md-2 pl-2 text-sm-body-1 text-caption desc-detail"},[l("p",null,[n("Numero de telefone para contato : "),l("b",null,"(45) 998463475")]),l("p",null,[n("Endere\xE7o de email para contato : "),l("b",null,"jpinformaticafoz@gmail.com")]),l("p",null,[l("b",null,"Informe o numero do pedido na mensagem.")])],-1),he=l("span",null,"Enviar mensagem agora",-1),ve=l("span",null,"Enviar email agora",-1),xe={__name:"ModalFinalizarPedido",emits:["fechar"],setup(f,{emit:w}){const b=se(),F=O(()=>b.getIdPedido);function k(){w("fechar",!1)}function o(){const p="https://api.whatsapp.com/send?phone=",_="45998463475",V="Boa%20Tarde%20gostaria%20de%20ter%20informa\xE7\xF5es%20sobre%20o%20meu%20pedido%20Numero%20"+b.getIdPedido.toString(),d=`${p}${_}&text=${V}`;window.open(d,"_blank").focus()}return(p,_)=>(c(),x(z,{"min-height":"315px",class:"bg-carrinho"},{default:t(()=>[e(j,{class:"mt-n4 ml-n4"},{default:t(()=>[e(r,{onClick:k,size:"small",icon:"",color:"red",variant:"text"},{default:t(()=>[e(g,null,{default:t(()=>[n("mdi-close")]),_:1})]),_:1})]),_:1}),e(Q,{class:"desc-detail text-subtitle-1 text-md-h5 font-weight-bold mt-n6"},{default:t(()=>[n(" Pedido "+m(v(F))+" aberto com sucesso... ",1)]),_:1}),e(q,{class:"desc-detail pl-5 mt-n2 mt-sm-0 text-subtitle-2 text-md-subtitle-1 font-italic"},{default:t(()=>[me]),_:1}),e(B,null,{default:t(()=>[e(S,{class:"d-flex flex-column"},{default:t(()=>[e(C,{cols:"12"},{default:t(()=>[fe]),_:1}),e(C,{cols:"12",class:"mt-n2 mt-sm-0 desc-detail"},{default:t(()=>[pe,_e]),_:1}),e(C,{cols:"12",class:"d-flex flex-sm-row flex-column justify-start mt-n3 mt-sm-0"},{default:t(()=>[e(r,{color:"#018749",onClick:o,"prepend-icon":"mdi-whatsapp",size:"small",class:"ml-md-0"},{default:t(()=>[he]),_:1}),e(r,{color:"#00693E","prepend-icon":"mdi-email",size:"small",class:"ml-sm-2 mt-2 mt-sm-0"},{default:t(()=>[ve]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ge={key:0,class:"d-flex justify-center"},ye=l("span",{class:"ml-1"},"Aplicar",-1),Ce={class:"text-body-1 font-italic font-weight-bold"},be={class:"text-body-1 font-italic font-weight-bold pt-1"},Ve={class:"text-body-1 font-italic font-weight-bold pt-1"},Ie={key:1,class:"d-flex justify-center"},we={__name:"ModalConfPedido",props:{vlTotal:Number},emits:["fechar"],setup(f,{emit:w}){const b=f,{finalizaPedido:F,getCupom:k,applyCupom:o}=U(),p=y(""),_=y(null),V=y(!1),d=y(0),E=O(()=>parseFloat(b.vlTotal)-parseFloat(d.value));function D(){w("fechar",!1)}async function I(){let u={current_page:null,opcao:null,start:null,end:null,search:null,Shop:"T",Precos:null,categoria:null,NOME:p.value},h=await k(u);h!=null&&(_.value=h.ID,d.value=parseFloat(E.value)*parseFloat(h.DESCONTO)/100)}function T(){let u={ID:_.value};u.ID!=null&&o(u),F(u),V.value=!0}return(u,h)=>V.value==!1?(c(),A("div",ge,[e(z,{class:"bg-carrinho"},{default:t(()=>[e(Q,null,{default:t(()=>[n("Confirma\xE7\xE3o do pedido...")]),_:1}),e(q,null,{default:t(()=>[n(' Verifique os dados do pedido, depois cliquem em "confirmar" para finaliz\xE1-lo ')]),_:1}),e(B,null,{default:t(()=>[e(S,null,{default:t(()=>[e(C,{cols:"12",md:"11",sm:"11",class:"d-flex flex-row"},{default:t(()=>[e(ne,{color:"white",label:"Cupom de desconto",type:"text",dark:"",modelValue:p.value,"onUpdate:modelValue":h[0]||(h[0]=N=>p.value=N),variant:"outlined",placeholder:"WELCOME25"},null,8,["modelValue"]),e(r,{size:"small",class:"mt-3 ml-3",color:"#4FFFB0",variant:"text",onClick:I},{default:t(()=>[e(g,{class:"mt-1"},{default:t(()=>[n(" mdi-ticket-percent-outline ")]),_:1}),ye]),_:1})]),_:1}),e(C,{class:"d-flex flex-column mt-n8 ml-2"},{default:t(()=>[l("p",Ce," Valor do Pedido : "+m(parseFloat(f.vlTotal).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1),l("p",be," Valor do Desconto : "+m(parseFloat(d.value).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1),l("p",Ve," Subtotal : "+m(parseFloat(v(E)).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)]),_:1})]),_:1})]),_:1}),e(j,{class:"d-flex justify-end mt-n4"},{default:t(()=>[e(r,{variant:"text",onClick:D,color:"#FF033E"},{default:t(()=>[n(" Voltar ")]),_:1}),e(r,{variant:"text",onClick:T,color:"#4FFFB0"},{default:t(()=>[n(" Confirmar ")]),_:1})]),_:1})]),_:1})])):(c(),A("div",Ie,[e(xe,{onFechar:D})]))}};const M=f=>(ae("data-v-c622ec1f"),f=f(),oe(),f),Fe={class:"d-flex flex-sm-row flex-column"},ke={class:"d-flex flex-row"},De=M(()=>l("p",{class:"text-md-h6 text-caption font-weight-bold ml-3 mt-0 auto desc-detail"},"Meu Carrinho...",-1)),Ae={class:"d-flex flex-row"},Ee={class:"ml-2 text-md-h6 text-caption font-weight-bold mt-3 mt-sm-0 desc-detail"},Se={class:"bg-img"},Te={class:"d-flex flex-column ml-3"},Ne={class:"text-h5 font-weight-black desc-detail"},$e={class:"text-caption text-sm-subtitle-1 desc-detail font-weight-bold"},Pe={class:"text-caption text-sm-subtitle-1 desc-detail font-weight-bold"},Le={key:0},Qe={key:1},Be=M(()=>l("p",{class:"text-yellow desc-detail"}," Sem Estoque ",-1)),ze=[Be],Me={class:"d-flex flex-row"},Re=M(()=>l("p",{class:"text-caption text-sm-subtitle-1 font-weight-bold desc-detail"}," Cor: ",-1)),Oe={class:"d-flex flex-column justify-center"},Ue={__name:"Carrinho",setup(f){const{getProdutosCarrinho:w,addQuantidade:b,removeQuantidade:F,removeIndisponivel:k,itens:o,isNull:p,vlTotal:_}=U(),V=J(),d=y(!1),E=y(!1),D=y(0),I=X();u();function T(s){d.value=s,u(),D.value+=1}async function u(){o.value=await w(),console.log(o.value),E.value=!0}async function h(s){if(await b(s)=="Success"){const a=o.value[s];a&&(a.QUANTIDADE+=1)}}function N(){if(o.value==null||o.value.length==0){I.activeSnack("O carrinho n\xE3o possui nenhum item !");return}for(const s of o.value)if(s.QUANTIDADE=="Indisponivel"){I.activeSnack("O carrinho possui itens sem estoque !");return}d.value=!0}function G(s){k(s);const i=o.value[s];i&&(o.value=o.value.filter(a=>a!=i))}function K(s){F(s);const i=o.value[s];i&&(i.QUANTIDADE==1?o.value=o.value.filter(a=>a!=i):i.QUANTIDADE-=1)}function W(s){V.push({name:"Produto-Detalhe",params:{id:s}})}return(s,i)=>(c(),x(ie,{class:"fill-height",fluid:"",style:Y(v(p)(v(I).getTemas.PRIMARIA)?"":v(I).getTemas.PRIMARIA)},{default:t(()=>[e(S,null,{default:t(()=>[(c(),x(C,{cols:"12",key:D.value},{default:t(()=>[e(z,{dark:"",elevation:"4",class:"bg-carrinho"},{default:t(()=>[e(Q,{class:"mt-2"},{default:t(()=>[l("div",Fe,[l("div",ke,[e(g,{color:"#7FFFD4",class:"mt-sm-0 mt-n1"},{default:t(()=>[n("mdi-cart")]),_:1}),De]),l("div",Ae,[e(g,{color:"#7FFFD4",class:"mt-sm-0 mt-2 mt-sm-n1 mt-md-0 ml-0 ml-sm-6 desc-detail"},{default:t(()=>[n(" mdi-cash ")]),_:1}),l("p",Ee," Valor total : "+m(parseFloat(v(_)).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)]),e(R),e(r,{onClick:N,"prepend-icon":"mdi-cash",variant:"text",class:"finalizar mt-sm-0 mt-2"},{default:t(()=>[n(" Finalizar Lista ")]),_:1})])]),_:1}),e(B,null,{default:t(()=>[e(Z,{name:"list",tag:"ul"},{default:t(()=>[(c(!0),A(te,null,ee(v(o),(a,$)=>(c(),x(S,{key:a.ID,class:"mt-2"},{default:t(()=>[e(C,{cols:"12",class:"d-flex flex-row justify-start"},{default:t(()=>[l("div",Se,[e(de,{src:a.IMAGE,onClick:P=>W(a.ID),width:"135",height:"135",class:"imagem"},null,8,["src","onClick"])]),l("div",Te,[l("p",Ne,m(a.NOME),1),l("p",$e,m(parseFloat(a.VALOR).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1),l("p",Pe,[a.QUANTIDADE!="Indisponivel"?(c(),A("span",Le," Quantidade : "+m(a.QUANTIDADE)+" "+m(a.medida.NOME)+" (s) ",1)):(c(),A("span",Qe,ze))]),l("div",Me,[Re,e(re,{color:a.COR_ESCOLHIDA,height:"20",width:"20",elevation:"2",class:"ml-2 ml-md-3 mt-md-1 cores"},null,8,["color"])])]),e(R),l("div",Oe,[a.QUANTIDADE!="Indisponivel"?(c(),x(r,{key:0,icon:"",variant:"text",color:"#4FFFB0",onClick:P=>h($)},{default:t(()=>[e(g,null,{default:t(()=>[n("mdi-plus")]),_:1})]),_:2},1032,["onClick"])):L("",!0),a.QUANTIDADE!="Indisponivel"?(c(),x(r,{key:1,icon:"",variant:"text",color:"#FF033E",onClick:P=>K($)},{default:t(()=>[e(g,null,{default:t(()=>[n("mdi-minus")]),_:1})]),_:2},1032,["onClick"])):L("",!0),a.QUANTIDADE=="Indisponivel"?(c(),x(r,{key:2,icon:"",variant:"text",color:"red",onClick:P=>G($)},{default:t(()=>[e(g,null,{default:t(()=>[n("mdi-delete")]),_:1})]),_:2},1032,["onClick"])):L("",!0)])]),_:2},1024),e(ue)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1}))]),_:1}),e(ce,{persistent:"",modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=a=>d.value=a),onKeydown:i[1]||(i[1]=le(a=>d.value=!1,["escape"])),transition:"dialog-bottom-transition"},{default:t(()=>[e(we,{onFechar:T,"vl-total":v(_)},null,8,["vl-total"])]),_:1},8,["modelValue"])]),_:1},8,["style"]))}},rt=H(Ue,[["__scopeId","data-v-c622ec1f"]]);export{rt as default};
