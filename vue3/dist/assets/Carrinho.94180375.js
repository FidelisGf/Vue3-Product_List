import{c as U,o as c,a as g,w as t,b as e,n,q as p,d as r,z as l,r as C,v as F,aD as J,K as X,u as Y,s as z,aB as Z,x as ee,F as te,aO as le,y as Q,aP as ae,aQ as oe}from"./index.bfab535e.js";import{C as j}from"./Carrinho.09214ab3.js";import{u as se}from"./CarrinhoStore.bb7a2a0e.js";import{c as q,V as B,a as K,b as L,d as R}from"./VCard.30f22632.js";import{r as u,s as y}from"./CRUD.ebf42a23.js";import{V as S,a as b}from"./VRow.5238d267.js";import{V as ne}from"./VTextField.792df56d.js";import{V as ie}from"./VContainer.3237684f.js";import{V as M}from"./VSpacer.40249802.js";import{V as ce}from"./VDialog.a0cf0969.js";import{V as de}from"./VAvatar.62c25bed.js";import{V as re}from"./VSheet.97edbb83.js";import{V as ue}from"./VDivider.8e7024f2.js";import"./index.1f704c04.js";import"./forwardRefs.54bb1675.js";import"./transition.a7013c9d.js";import"./VOverlay.1dedc219.js";import"./getScrollParent.d1b4c30e.js";import"./dialog-transition.959ceb6f.js";const me=l("p",null,"Siga os passos descritos a seguir",-1),fe=l("p",{class:"desc-detail text-body-2 mt-n2 mt-sm-0 text-sm-body-1 font-weight-medium"}," Quase tudo pronto. Agora nos envie o numero do seu pedido pelo whats ou por e-mail para prosseguirmos ao pagamento. ",-1),pe=l("p",null,[l("b",null,"Informa\xE7\xF5es de contato : ")],-1),_e=l("div",{class:"pl-md-2 pl-2 text-sm-body-1 text-caption desc-detail"},[l("p",null,[n("Numero de telefone para contato : "),l("b",null,"(45) 998463475")]),l("p",null,[n("Endere\xE7o de email para contato : "),l("b",null,"jpinformaticafoz@gmail.com")]),l("p",null,[l("b",null,"Informe o numero do pedido na mensagem.")])],-1),he=l("span",null,"Enviar mensagem agora",-1),ve=l("span",null,"Enviar email agora",-1),xe={__name:"ModalFinalizarPedido",emits:["fechar"],setup(_,{emit:w}){const V=se(),D=U(()=>V.getIdPedido);function k(){w("fechar",!1)}function o(){const m="https://api.whatsapp.com/send?phone=",h="45998463475",I="Boa%20Tarde%20gostaria%20de%20ter%20informa\xE7\xF5es%20sobre%20o%20meu%20pedido%20Numero%20"+V.getIdPedido.toString(),d=`${m}${h}&text=${I}`;window.open(d,"_blank").focus()}return(m,h)=>(c(),g(R,{"min-height":"315px",class:"bg-carrinho"},{default:t(()=>[e(q,{class:"mt-n4 ml-n4"},{default:t(()=>[e(u,{onClick:k,size:"small",icon:"",color:"red",variant:"text"},{default:t(()=>[e(y,null,{default:t(()=>[n("mdi-close")]),_:1})]),_:1})]),_:1}),e(B,{class:"desc-detail text-subtitle-1 text-md-h5 font-weight-bold mt-n6"},{default:t(()=>[n(" Pedido "+p(r(D))+" aberto com sucesso... ",1)]),_:1}),e(K,{class:"desc-detail pl-5 mt-n2 mt-sm-0 text-subtitle-2 text-md-subtitle-1 font-italic"},{default:t(()=>[me]),_:1}),e(L,null,{default:t(()=>[e(S,{class:"d-flex flex-column"},{default:t(()=>[e(b,{cols:"12"},{default:t(()=>[fe]),_:1}),e(b,{cols:"12",class:"mt-n2 mt-sm-0 desc-detail"},{default:t(()=>[pe,_e]),_:1}),e(b,{cols:"12",class:"d-flex flex-sm-row flex-column justify-start mt-n3 mt-sm-0"},{default:t(()=>[e(u,{color:"#018749",onClick:o,"prepend-icon":"mdi-whatsapp",size:"small",class:"ml-md-0"},{default:t(()=>[he]),_:1}),e(u,{color:"#00693E","prepend-icon":"mdi-email",size:"small",class:"ml-sm-2 mt-2 mt-sm-0"},{default:t(()=>[ve]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}))}},ge={key:0,class:"d-flex justify-center"},ye=l("span",{class:"ml-1"},"Aplicar",-1),Ce={class:"text-body-1 font-italic font-weight-bold"},be={class:"text-body-1 font-italic font-weight-bold pt-1"},Ve={class:"text-body-1 font-italic font-weight-bold pt-1"},Ie={key:1,class:"d-flex justify-center"},we={__name:"ModalConfPedido",props:{vlTotal:Number},emits:["fechar"],setup(_,{emit:w}){const V=_,{finalizaPedido:D,getCupom:k,applyCupom:o}=j(),m=C(""),h=C(null),I=C(!1),d=C(0),E=U(()=>parseFloat(V.vlTotal)-parseFloat(d.value));function A(){w("fechar",!1)}async function v(){let f={current_page:null,opcao:null,start:null,end:null,search:null,Shop:"T",Precos:null,categoria:null,NOME:m.value},x=await k(f);x!=null&&(h.value=x.ID,d.value=parseFloat(E.value)*parseFloat(x.DESCONTO)/100)}function T(){let f={ID:h.value};f.ID!=null&&o(f),D(f),I.value=!0}return(f,x)=>I.value==!1?(c(),F("div",ge,[e(R,{class:"bg-carrinho"},{default:t(()=>[e(B,null,{default:t(()=>[n("Confirma\xE7\xE3o do pedido...")]),_:1}),e(K,null,{default:t(()=>[n(' Verifique os dados do pedido, depois cliquem em "confirmar" para finaliz\xE1-lo ')]),_:1}),e(L,null,{default:t(()=>[e(S,null,{default:t(()=>[e(b,{cols:"12",md:"11",sm:"11",class:"d-flex flex-row"},{default:t(()=>[e(ne,{color:"white",label:"Cupom de desconto",type:"text",dark:"",modelValue:m.value,"onUpdate:modelValue":x[0]||(x[0]=N=>m.value=N),variant:"outlined",placeholder:"WELCOME25"},null,8,["modelValue"]),e(u,{size:"small",class:"mt-3 ml-3",color:"#4FFFB0",variant:"text",onClick:v},{default:t(()=>[e(y,{class:"mt-1"},{default:t(()=>[n(" mdi-ticket-percent-outline ")]),_:1}),ye]),_:1})]),_:1}),e(b,{class:"d-flex flex-column mt-n8 ml-2"},{default:t(()=>[l("p",Ce," Valor do Pedido : "+p(parseFloat(_.vlTotal).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1),l("p",be," Valor do Desconto : "+p(parseFloat(d.value).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1),l("p",Ve," Subtotal : "+p(parseFloat(r(E)).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)]),_:1})]),_:1})]),_:1}),e(q,{class:"d-flex justify-end mt-n4"},{default:t(()=>[e(u,{variant:"text",onClick:A,color:"#FF033E"},{default:t(()=>[n(" Voltar ")]),_:1}),e(u,{variant:"text",onClick:T,color:"#4FFFB0"},{default:t(()=>[n(" Confirmar ")]),_:1})]),_:1})]),_:1})])):(c(),F("div",Ie,[e(xe,{onFechar:A})]))}};const O=_=>(ae("data-v-a053be4a"),_=_(),oe(),_),De={class:"d-flex flex-sm-row flex-column"},ke={class:"d-flex flex-row"},Ae=O(()=>l("p",{class:"text-md-h6 text-caption font-weight-bold ml-3 mt-0 desc-detail"},"Meu Carrinho...",-1)),Fe={class:"d-flex flex-row"},Ee={class:"ml-2 text-md-h6 text-caption font-weight-bold mt-3 mt-sm-0 desc-detail"},Se={class:"bg-img"},Te={class:"d-flex flex-column ml-3"},Ne={class:"text-h5 font-weight-black desc-detail"},$e={class:"text-caption text-sm-subtitle-1 desc-detail font-weight-bold"},Pe={class:"text-caption text-sm-subtitle-1 desc-detail font-weight-bold"},Qe={key:0},Be={key:1},Le=O(()=>l("p",{class:"text-yellow desc-detail"}," Sem Estoque ",-1)),Re=[Le],Oe={class:"d-flex flex-row"},ze=O(()=>l("p",{class:"text-caption text-sm-subtitle-1 font-weight-bold desc-detail"}," Cor: ",-1)),Me={class:"d-flex flex-column justify-center"},Ue={__name:"Carrinho",setup(_){const{getProdutosCarrinho:w,addQuantidade:V,removeQuantidade:D,removeIndisponivel:k,itens:o,isNull:m,vlTotal:h}=j(),I=X(),d=C(!1),E=C(!1),A=C(0),v=Y();f();function T(s){d.value=s,f(),A.value+=1}async function f(){o.value=await w(),console.log(o.value),E.value=!0}async function x(s){if(await V(s)=="Success"){const a=o.value[s];a&&(a.QUANTIDADE+=1)}}function N(){if(o.value==null||o.value.length==0){v.activeSnack("O carrinho n\xE3o possui nenhum item !");return}for(const s of o.value)if(s.QUANTIDADE=="Indisponivel"){v.activeSnack("O carrinho possui itens sem estoque !");return}d.value=!0}function G(s){k(s);const i=o.value[s];i&&(o.value=o.value.filter(a=>a!=i))}function W(s){D(s);const i=o.value[s];i&&(i.QUANTIDADE==1?o.value=o.value.filter(a=>a!=i):i.QUANTIDADE-=1)}function H(s){I.push({name:"Produto-Detalhe",params:{id:s}})}return(s,i)=>(c(),g(ie,{class:"fill-height",fluid:"",style:z(r(m)(r(v).getTemas.PRIMARIA)?"":r(v).getTemas.PRIMARIA)},{default:t(()=>[e(S,null,{default:t(()=>[(c(),g(b,{cols:"12",key:A.value},{default:t(()=>[e(R,{dark:"",elevation:"4",style:z(r(m)(r(v).getTemas.CARD_PEDIDOS)?"":r(v).getTemas.CARD_PEDIDOS)},{default:t(()=>[e(B,{class:"mt-2"},{default:t(()=>[l("div",De,[l("div",ke,[e(y,{color:"white",class:"mt-sm-0 mt-n1"},{default:t(()=>[n("mdi-cart")]),_:1}),Ae]),l("div",Fe,[e(y,{color:"green-accent-3",class:"mt-sm-0 mt-2 mt-sm-n1 mt-md-0 ml-0 ml-sm-6 desc-detail"},{default:t(()=>[n(" mdi-cash ")]),_:1}),l("p",Ee," Valor total : "+p(parseFloat(r(h)).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1)]),e(M),e(u,{onClick:N,"prepend-icon":"mdi-cash",variant:"text",class:"mt-sm-0 mt-2",color:"yellow"},{default:t(()=>[n(" Finalizar Lista ")]),_:1})])]),_:1}),e(L,null,{default:t(()=>[e(Z,{name:"list",tag:"ul"},{default:t(()=>[(c(!0),F(te,null,ee(r(o),(a,$)=>(c(),g(S,{key:a.ID,class:"mt-2"},{default:t(()=>[e(b,{cols:"12",class:"d-flex flex-row justify-start"},{default:t(()=>[l("div",Se,[e(de,{src:a.IMAGE,onClick:P=>H(a.ID),width:"135",height:"135",class:"imagem"},null,8,["src","onClick"])]),l("div",Te,[l("p",Ne,p(a.NOME),1),l("p",$e,p(parseFloat(a.VALOR).toLocaleString("pt-br",{style:"currency",currency:"BRL"})),1),l("p",Pe,[a.QUANTIDADE!="Indisponivel"?(c(),F("span",Qe," Quantidade : "+p(a.QUANTIDADE)+" "+p(a.medida.NOME)+" (s) ",1)):(c(),F("span",Be,Re))]),l("div",Oe,[ze,e(re,{color:a.COR_ESCOLHIDA,height:"20",width:"20",elevation:"2",class:"ml-2 ml-md-3 mt-md-1 cores"},null,8,["color"])])]),e(M),l("div",Me,[a.QUANTIDADE!="Indisponivel"?(c(),g(u,{key:0,icon:"",variant:"text",color:"#4FFFB0",onClick:P=>x($)},{default:t(()=>[e(y,null,{default:t(()=>[n("mdi-plus")]),_:1})]),_:2},1032,["onClick"])):Q("",!0),a.QUANTIDADE!="Indisponivel"?(c(),g(u,{key:1,icon:"",variant:"text",color:"#FF033E",onClick:P=>W($)},{default:t(()=>[e(y,null,{default:t(()=>[n("mdi-minus")]),_:1})]),_:2},1032,["onClick"])):Q("",!0),a.QUANTIDADE=="Indisponivel"?(c(),g(u,{key:2,icon:"",variant:"text",color:"red",onClick:P=>G($)},{default:t(()=>[e(y,null,{default:t(()=>[n("mdi-delete")]),_:1})]),_:2},1032,["onClick"])):Q("",!0)])]),_:2},1024),e(ue)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1},8,["style"])]),_:1}))]),_:1}),e(ce,{persistent:"",modelValue:d.value,"onUpdate:modelValue":i[0]||(i[0]=a=>d.value=a),onKeydown:i[1]||(i[1]=le(a=>d.value=!1,["escape"])),transition:"dialog-bottom-transition"},{default:t(()=>[e(we,{onFechar:T,"vl-total":r(h)},null,8,["vl-total"])]),_:1},8,["modelValue"])]),_:1},8,["style"]))}},dt=J(Ue,[["__scopeId","data-v-a053be4a"]]);export{dt as default};
