import{g as z,ar as M,aA as E,as as H,b as r,c as b,_ as $,r as S,h as I,M as q,V as x,H as N,ae as L,F as U,C as J,J as K,A as G,I as Q,m as X,p as Y}from"./index.bfab535e.js";import{A as Z,B as p,h as V,F as ee,b as te,K as ae,c as ne,k as re,o as se,I as le,f as ie,L as ue,s as oe,p as ce}from"./CRUD.ebf42a23.js";import{m as ve,M as y}from"./transition.a7013c9d.js";function Ie(e){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"div",t=arguments.length>2?arguments[2]:void 0;return z()({name:t!=null?t:M(E(e.replace(/__/g,"-"))),props:{tag:{type:String,default:i}},setup(s,c){let{slots:n}=c;return()=>{var l;return H(s.tag,{class:e},(l=n.default)==null?void 0:l.call(n))}}})}function de(e){return{aspectStyles:b(()=>{const i=Number(e.aspectRatio);return i?{paddingBottom:String(1/i*100)+"%"}:void 0})}}const me=z()({name:"VResponsive",props:{aspectRatio:[String,Number],contentClass:String,...Z()},setup(e,i){let{slots:t}=i;const{aspectStyles:s}=de(e),{dimensionStyles:c}=p(e);return V(()=>{var n;return r("div",{class:"v-responsive",style:c.value},[r("div",{class:"v-responsive__sizer",style:s.value},null),(n=t.additional)==null?void 0:n.call(t),t.default&&r("div",{class:["v-responsive__content",e.contentClass]},[t.default()])])}),{}}});function ge(e,i){if(!$)return;const t=i.modifiers||{},s=i.value,{handler:c,options:n}=typeof s=="object"?s:{handler:s,options:{}},l=new IntersectionObserver(function(){var m;let d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],g=arguments.length>1?arguments[1]:void 0;const u=(m=e._observe)==null?void 0:m[i.instance.$.uid];if(!u)return;const v=d.some(_=>_.isIntersecting);c&&(!t.quiet||u.init)&&(!t.once||v||u.init)&&c(v,d,g),v&&t.once?B(e,i):u.init=!0},n);e._observe=Object(e._observe),e._observe[i.instance.$.uid]={init:!1,observer:l},l.observe(e)}function B(e,i){var s;const t=(s=e._observe)==null?void 0:s[i.instance.$.uid];!t||(t.observer.unobserve(e),delete e._observe[i.instance.$.uid])}const fe={mounted:ge,unmounted:B},Se=fe,_e=z()({name:"VImg",directives:{intersect:Se},props:{aspectRatio:[String,Number],alt:String,cover:Boolean,eager:Boolean,gradient:String,lazySrc:String,options:{type:Object,default:()=>({root:void 0,rootMargin:void 0,threshold:void 0})},sizes:String,src:{type:[String,Object],default:""},srcset:String,width:[String,Number],...ve()},emits:{loadstart:e=>!0,load:e=>!0,error:e=>!0},setup(e,i){let{emit:t,slots:s}=i;const c=S(""),n=S(),l=S(e.eager?"loading":"idle"),d=S(),g=S(),u=b(()=>e.src&&typeof e.src=="object"?{src:e.src.src,srcset:e.srcset||e.src.srcset,lazySrc:e.lazySrc||e.src.lazySrc,aspect:Number(e.aspectRatio||e.src.aspect||0)}:{src:e.src,srcset:e.srcset,lazySrc:e.lazySrc,aspect:Number(e.aspectRatio||0)}),v=b(()=>u.value.aspect||d.value/g.value||0);I(()=>e.src,()=>{m(l.value!=="idle")}),I(v,(a,o)=>{!a&&o&&n.value&&h(n.value)}),q(()=>m());function m(a){if(!(e.eager&&a)&&!($&&!a&&!e.eager)){if(l.value="loading",u.value.lazySrc){const o=new Image;o.src=u.value.lazySrc,h(o,null)}!u.value.src||x(()=>{var o,f;if(t("loadstart",((o=n.value)==null?void 0:o.currentSrc)||u.value.src),(f=n.value)!=null&&f.complete){if(n.value.naturalWidth||R(),l.value==="error")return;v.value||h(n.value,null),_()}else v.value||h(n.value),k()})}}function _(){var a;k(),l.value="loaded",t("load",((a=n.value)==null?void 0:a.currentSrc)||u.value.src)}function R(){var a;l.value="error",t("error",((a=n.value)==null?void 0:a.currentSrc)||u.value.src)}function k(){const a=n.value;a&&(c.value=a.currentSrc||a.src)}let C=-1;function h(a){let o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:100;const f=()=>{clearTimeout(C);const{naturalHeight:P,naturalWidth:A}=a;P||A?(d.value=A,g.value=P):!a.complete&&l.value==="loading"&&o!=null?C=window.setTimeout(f,o):(a.currentSrc.endsWith(".svg")||a.currentSrc.startsWith("data:image/svg+xml"))&&(d.value=1,g.value=1)};f()}const T=b(()=>({"v-img__img--cover":e.cover,"v-img__img--contain":!e.cover})),F=()=>{var f;if(!u.value.src||l.value==="idle")return null;const a=r("img",{class:["v-img__img",T.value],src:u.value.src,srcset:u.value.srcset,alt:"",sizes:e.sizes,ref:n,onLoad:_,onError:R},null),o=(f=s.sources)==null?void 0:f.call(s);return r(y,{transition:e.transition,appear:!0},{default:()=>[N(o?r("picture",{class:"v-img__picture"},[o,a]):a,[[K,l.value==="loaded"]])]})},O=()=>r(y,{transition:e.transition},{default:()=>[u.value.lazySrc&&l.value!=="loaded"&&r("img",{class:["v-img__img","v-img__img--preload",T.value],src:u.value.lazySrc,alt:""},null)]}),D=()=>s.placeholder?r(y,{transition:e.transition,appear:!0},{default:()=>[(l.value==="loading"||l.value==="error"&&!s.error)&&r("div",{class:"v-img__placeholder"},[s.placeholder()])]}):null,W=()=>s.error?r(y,{transition:e.transition,appear:!0},{default:()=>[l.value==="error"&&r("div",{class:"v-img__error"},[s.error()])]}):null,j=()=>e.gradient?r("div",{class:"v-img__gradient",style:{backgroundImage:`linear-gradient(${e.gradient})`}},null):null,w=S(!1);{const a=I(v,o=>{o&&(requestAnimationFrame(()=>{requestAnimationFrame(()=>{w.value=!0})}),a())})}return V(()=>N(r(me,{class:["v-img",{"v-img--booting":!w.value}],style:{width:J(e.width==="auto"?d.value:e.width)},aspectRatio:v.value,"aria-label":e.alt,role:e.alt?"img":void 0},{additional:()=>r(U,null,[r(F,null,null),r(O,null,null),r(j,null,null),r(D,null,null),r(W,null,null)]),default:s.default}),[[L("intersect"),{handler:m,options:e.options},null,{once:!0}]])),{currentSrc:c,image:n,state:l,naturalWidth:d,naturalHeight:g}}});const he=G({start:Boolean,end:Boolean,icon:Q,image:String,...ee(),...te(),...ae(),...ne(),...X(),...re({variant:"flat"})},"v-avatar"),Ve=z()({name:"VAvatar",props:he(),setup(e,i){let{slots:t}=i;const{themeClasses:s}=Y(e),{colorClasses:c,colorStyles:n,variantClasses:l}=se(e),{densityClasses:d}=le(e),{roundedClasses:g}=ie(e),{sizeClasses:u,sizeStyles:v}=ue(e);return V(()=>r(e.tag,{class:["v-avatar",{"v-avatar--start":e.start,"v-avatar--end":e.end},s.value,c.value,d.value,g.value,u.value,l.value],style:[n.value,v.value]},{default:()=>{var m;return[e.image?r(_e,{key:"image",src:e.image,alt:"",cover:!0},null):e.icon?r(oe,{key:"icon",icon:e.icon},null):(m=t.default)==null?void 0:m.call(t),ce(!1,"v-avatar")]}})),{}}});export{Se as I,_e as V,Ve as a,me as b,Ie as c};
