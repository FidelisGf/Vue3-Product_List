import{r as P,aE as ee,e as ae,I as M,m as te,h as le,G as ie,M as ne,p as se,a0 as Y,C as U,c as A,aF as T,t as I,b as r,l as D,aG as W,P as q,aH as X,L as re,u as ue,j as oe,o as N,a as H,w as C,v as ce,d as m,aI as J,A as ve,s as de,x as fe,y as ge,F as me,i as he}from"./index.68037d06.js";import{m as ye,w as pe,a as be,b as _e,s as Pe,c as Le,k as ke,g as xe,h as Ie,C as Ve}from"./CRUD.c1c6f201.js";import{C as we}from"./Carrinho.4947e6cc.js";import{P as Ae}from"./ProdutoComp.b95d6e89.js";import{V as Ce}from"./VContainer.21d6b0ae.js";import{V as Q,a as K}from"./VRow.78683adf.js";import{a as B}from"./VBtn.aff652ee.js";import"./CarrinhoStore.233db477.js";function Se(){const e=P([]);ee(()=>e.value=[]);function L(o,S){e.value[S]=o}return{refs:e,updateRef:L}}const Re=ae({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:M,default:"$first"},prevIcon:{type:M,default:"$prev"},nextIcon:{type:M,default:"$next"},lastIcon:{type:M,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ye(),...pe(),...be(),..._e(),...Pe(),...Le({tag:"nav"}),...te(),...ke({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,L){let{slots:o,emit:S}=L;const n=le(e,"modelValue"),{t:y,n:j}=ie(),{isRtl:s}=ne(),{themeClasses:p}=se(e),{width:z}=Y(),b=P(-1);U(void 0,{scoped:!0});const{resizeRef:k}=xe(t=>{if(!t.length)return;const{target:l,contentRect:i}=t[0],d=l.querySelector(".v-pagination__list > *");if(!d)return;const g=i.width,x=d.offsetWidth+parseFloat(getComputedStyle(d).marginRight)*2;b.value=F(g,x)}),c=A(()=>parseInt(e.length,10)),v=A(()=>parseInt(e.start,10)),u=A(()=>e.totalVisible?parseInt(e.totalVisible,10):b.value>=0?b.value:F(z.value,58));function F(t,l){const i=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((t-l*i)/l).toFixed(2)))}const O=A(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(u.value<=1)return[n.value];if(c.value<=u.value)return T(c.value,v.value);const t=u.value%2===0,l=t?u.value/2:Math.floor(u.value/2),i=t?l:l+1,d=c.value-l;if(i-n.value>=0)return[...T(Math.max(1,u.value-1),v.value),e.ellipsis,c.value];if(n.value-d>=(t?1:0)){const g=u.value-1,x=c.value-g+v.value;return[v.value,e.ellipsis,...T(g,x)]}else{const g=Math.max(1,u.value-3),x=g===1?n.value:n.value-Math.ceil(g/2)+v.value;return[v.value,e.ellipsis,...T(g,x),e.ellipsis,c.value]}});function _(t,l,i){t.preventDefault(),n.value=l,i&&S(i,l)}const{refs:$,updateRef:R}=Se();U({VPaginationBtn:{color:I(e,"color"),border:I(e,"border"),density:I(e,"density"),size:I(e,"size"),variant:I(e,"variant"),rounded:I(e,"rounded"),elevation:I(e,"elevation")}});const V=A(()=>O.value.map((t,l)=>{const i=d=>R(d,l);if(typeof t=="string")return{isActive:!1,key:`ellipsis-${l}`,page:t,props:{ref:i,ellipsis:!0,icon:!0,disabled:!0}};{const d=t===n.value;return{isActive:d,key:t,page:j(t),props:{ref:i,ellipsis:!1,icon:!0,disabled:!!e.disabled||e.length<2,color:d?e.activeColor:e.color,ariaCurrent:d,ariaLabel:y(d?e.currentPageAriaLabel:e.pageAriaLabel,l+1),onClick:g=>_(g,t)}}}})),f=A(()=>{const t=!!e.disabled||n.value<=v.value,l=!!e.disabled||n.value>=v.value+c.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:i=>_(i,v.value,"first"),disabled:t,ariaLabel:y(e.firstAriaLabel),ariaDisabled:t}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:i=>_(i,n.value-1,"prev"),disabled:t,ariaLabel:y(e.previousAriaLabel),ariaDisabled:t},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:i=>_(i,n.value+1,"next"),disabled:l,ariaLabel:y(e.nextAriaLabel),ariaDisabled:l},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:i=>_(i,v.value+c.value-1,"last"),disabled:l,ariaLabel:y(e.lastAriaLabel),ariaDisabled:l}:void 0}});function E(){var t;const l=n.value-v.value;(t=$.value[l])==null||t.$el.focus()}function G(t){t.key===W.left&&!e.disabled&&n.value>e.start?(n.value=n.value-1,q(E)):t.key===W.right&&!e.disabled&&n.value<v.value+c.value-1&&(n.value=n.value+1,q(E))}return Ie(()=>r(e.tag,{ref:k,class:["v-pagination",p.value],role:"navigation","aria-label":y(e.ariaLabel),onKeydown:G,"data-test":"v-pagination-root"},{default:()=>[r("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&r("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[o.first?o.first(f.value.first):r(B,D({_as:"VPaginationBtn"},f.value.first),null)]),r("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[o.prev?o.prev(f.value.prev):r(B,D({_as:"VPaginationBtn"},f.value.prev),null)]),V.value.map((t,l)=>r("li",{key:t.key,class:["v-pagination__item",{"v-pagination__item--is-active":t.isActive}],"data-test":"v-pagination-item"},[o.item?o.item(t):r(B,D({_as:"VPaginationBtn"},t.props),{default:()=>[t.page]})])),r("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[o.next?o.next(f.value.next):r(B,D({_as:"VPaginationBtn"},f.value.next),null)]),e.showFirstLastPage&&r("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[o.last?o.last(f.value.last):r(B,D({_as:"VPaginationBtn"},f.value.last),null)])])]})),{}}}),je={__name:"Produto",setup(e){const{smAndDown:L}=Y(),o=X(()=>J(()=>import("./Filtro.a90d6580.js"),["assets/Filtro.a90d6580.js","assets/index.68037d06.js","assets/index.582478f3.css","assets/CRUD.c1c6f201.js","assets/CRUD.9e2ce5ff.css","assets/VNavigationDrawer.b751ad3e.js","assets/index.0a737923.js","assets/VAvatar.fb28827d.js","assets/transition.de4c50a9.js","assets/VAvatar.82361bce.css","assets/VDivider.61516259.js","assets/VDivider.357e019d.css","assets/layout.301ddc85.js","assets/VNavigationDrawer.b0ac9b0e.css","assets/VTextField.3fa424cb.js","assets/forwardRefs.54bb1675.js","assets/VTextField.69a07c32.css","assets/dialog-transition.a512909f.js","assets/VOverlay.ca1525a2.js","assets/getScrollParent.d1b4c30e.js","assets/VOverlay.72fa3373.css","assets/VSpacer.952a8dec.js","assets/VBtn.aff652ee.js","assets/VBtn.14e3f267.css","assets/VRow.78683adf.js","assets/Filtro.f99ec58d.css"])),S=X(()=>J(()=>import("./CardProdutos.21741252.js"),["assets/CardProdutos.21741252.js","assets/index.68037d06.js","assets/index.582478f3.css","assets/VRow.78683adf.js","assets/CRUD.c1c6f201.js","assets/CRUD.9e2ce5ff.css","assets/VAvatar.fb28827d.js","assets/transition.de4c50a9.js","assets/VAvatar.82361bce.css","assets/VCard.a8dc9b6e.js","assets/VCard.1de8492a.css","assets/VBtn.aff652ee.js","assets/VBtn.14e3f267.css","assets/CardProdutos.06cc48c9.css"])),n=re(),y=ue(),{getAllProdutos:j,produtos:s,tmp:p,lastPage:z,categoria:b,current_page:k}=Ae(),{saveInCarrinho:c}=we(),{getAllList:v,applyFilter:u,findById:F,isNull:O}=Ve(),_=P(""),$=P(0),R=P(""),V=P("");P([]);const f=P(null);oe(k,()=>{t()}),g();async function E(a){a.search==""&&a.check==null&&a.categoria==null?R.value=V.value=b.value=p.value=null:(R.value=a.search,V.value=a.check,b.value=a.categoria),await t()}async function G(a){let h={Shop:"T"},w=await F("getOneColorOfProduct",a.ID,h);c(a.ID,a.VALOR,w[0].HASH)}async function t(){$.value+=1;let a={current_page:k.value,search:R.value,Shop:"T",Precos:V.value,categoria:b.value};s.value=await j(a),f.value=s.value.length}async function l(a,h){a.type!="Search"&&(a.type="Search"),a.search.length<=_.value.length?s.value=await u(a,p.value):h?s.value=await u(a,s.value):s.value=await u(a,p.value)}async function i(a,h){a.type!="Check"&&(a.type="Check"),h?s.value=await u(a,p.value):s.value=await u(a,s.value)}async function d(a){if(p.value==null){let h=await u(a,s.value);p.value=s.value,s.value=h}else a.check==null&&a.categoria==null?await l(a,!0):a.categoria==null&&a.check!=null&&a.search!=null?(a.search!=""&&await l(a,!1),await i(a,!1)):a.check!=null&&a.categoria==null&&a.search==null&&await i(a,!0);a.search!=null&&(_.value=a.search),f.value=s.value.length}async function g(){let a={Shop:"T",Precos:V.value,categoria:b.value};await v("categorys",a)}function x(a){n.push({name:"Produto-Detalhe",params:{id:parseInt(a)}})}return(a,h)=>(N(),H(Ce,{class:"fill-height",style:ce(m(O)(m(y).getTemas.PRIMARIA)?"":m(y).getTemas.PRIMARIA),fluid:""},{default:C(()=>[r(m(o),{onSearch:E,onSearchPage:d}),(N(),H(Q,{color:"primary",class:"justify-center flex-row mt-2 mt-lg-0",key:$.value},{default:C(()=>[r(K,{cols:"12",class:"d-flex ml-md-14 mt-3 mt-md-0 justify-center justify-sm-start"},{default:C(()=>[ve("p",null,de(f.value)+" produto(s) encontrado(s) ",1)]),_:1}),(N(!0),fe(me,null,ge(m(s),(w,Z)=>(N(),H(K,{key:w.ID,cols:"6",md:"4",xl:"3",class:"d-flex justify-center"},{default:C(()=>[r(m(S),{"width-card":m(L)?"200":"260","height-card":m(L)?"360":"","height-img":m(L)?"155":"200",index:Z,produto:w,onDetailProductEsp:x,onDefineCorEsp:G,detail:!1},null,8,["width-card","height-card","height-img","index","produto"])]),_:2},1024))),128))]),_:1})),r(Q,null,{default:C(()=>[r(K,{cols:"12",class:"justify-center"},{default:C(()=>[r(Re,{color:"teal lighten-1",modelValue:m(k),"onUpdate:modelValue":h[0]||(h[0]=w=>he(k)?k.value=w:null),length:m(z),"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1},8,["style"]))}};export{je as default};
