import{aD as se,an as ae,r as u,c as T,j as ie,aJ as re,aK as ue,o as k,v as U,z as p,s as J,d as s,aL as de,g as me,e as ce,f as fe,a0 as ge,k as Q,b as e,aH as ee,aM as ve,aN as he,a as K,w as o,aI as te,n as z,x as le,F as oe,q as H,aO as _e,y as pe}from"./index.bfab535e.js";import{C as xe}from"./Carrinho.09214ab3.js";import{h as ye,C as we,r as M,s as W}from"./CRUD.ebf42a23.js";import{P as Ce}from"./ProdutoComp.b84400a2.js";import{V as Ve}from"./VContainer.3237684f.js";import{a as S,V as q}from"./VRow.5238d267.js";import{V as Ie}from"./VRating.a6191c8c.js";import{m as Ae,u as Se,f as be,V as ke}from"./VOverlay.1dedc219.js";import{f as Ee}from"./forwardRefs.54bb1675.js";import{V as De}from"./VDivider.8e7024f2.js";import{V as Pe,a as Oe}from"./VSlideGroupItem.c155674c.js";import{V as Re}from"./VDialog.a0cf0969.js";import{V as ze}from"./VSheet.97edbb83.js";import"./CarrinhoStore.bb7a2a0e.js";import"./getScrollParent.d1b4c30e.js";import"./transition.a7013c9d.js";import"./index.1f704c04.js";import"./dialog-transition.959ceb6f.js";const Te=["src"],je=["src"],Be={__name:"ImageZoom",props:{imgNormal:String,imgZoom:String,scale:String,disabled:Boolean,max_height:String,min_height:String,max_height_md_lg:String,min_height_md_lg:String,max_height_xl:String,min_height_xl:String},emits:["loaded"],setup(n,{emit:E}){const a=n,{smAndDown:b,xlAndUp:j,mdAndUp:C}=ae(),v=u(null),x=u(null),D=u(null);function B(l){var d=l.getBoundingClientRect(),f=window.pageXOffset||document.documentElement.scrollLeft,g=window.pageYOffset||document.documentElement.scrollTop;return{y:d.top+g,x:d.left+f}}const y=u(1),V=u(null),h=u(!1),t=u(!1);let c=T({get:()=>j&&a.min_height_xl!==null&&a.max_height_xl!==null?_(a.min_height_xl,a.max_height_xl):C&&a.min_height_md_lg!==null&&a.max_height_md_lg!==null?_(a.min_height_md_lg,a.max_height_md_lg):_(a.min_height,a.max_height)});function w(l){a.disabled||(L(l),h.value=!h.value)}function P(){a.disabled||(console.log(document.getElementById("image").width),I(),h.value=!0)}function I(){document.getElementById("image").width<=170&&(document.getElementById("image").style.width="200px",this.tmpWidthSkiny=!0)}function N(){a.disabled||(t.value&&(document.getElementById("image").style.width="auto",document.getElementById("image").style.height="auto",this.tmpWidthSkiny=!1),h.value=!1)}function _(l,d){return"min-height: "+l+" !important; max-height: "+d+" !important;"}function L(l){if(!(a.disabled||!h.value)){var d=B(D.value),f=v.value,g=x.value,F=l.clientX-d.x+window.pageXOffset,G=l.clientY-d.y+window.pageYOffset,$=F/g.offsetWidth,X=G/g.offsetHeight,Y=$*(f.offsetWidth*y.value-g.offsetWidth),Z=X*(f.offsetHeight*y.value-g.offsetHeight);f.style.left=-Y+"px",f.style.top=-Z+"px"}}function A(){var l=[v.value,x.value].map(d=>new Promise(function(f,g){d.addEventListener("load",f),d.addEventListener("error",g)}));Promise.all(l).then(function(){E("loaded")})}function O(){var l=x.value,d=l.offsetWidth,f=l.offsetHeight,g=this;V.value=setInterval(function(){(d!=l.offsetWidth||f!=l.offsetHeight)&&(d=l.offsetWidth,f=l.offsetHeight,g.$emit("resized",{width:l.width,height:l.height,fullWidth:l.naturalWidth,fullHeight:l.naturalHeight}))},1e3)}return ie(()=>{a.scale&&(y.value=parseInt(a.scale),v.value.style.transform="scale("+y.value+")"),A(),O()}),re(()=>{A()}),ue(()=>{clearInterval(V.value)}),(l,d)=>(k(),U("div",{class:de(["zoom-on-hover",[{zoomed:h.value},s(b)?"sm-norm  ml-0":""]]),id:"zoom-div",ref_key:"el",ref:D,style:J(s(c)),onTouchstart:w,onMousemove:L,onMouseenter:P,onMouseleave:N},[p("img",{class:"normal",ref_key:"normal",ref:x,src:n.imgNormal,style:J(s(c)),id:"image"},null,12,Te),p("img",{class:"zoom",ref_key:"zooom",ref:v,src:n.imgZoom||n.imgNormal},null,8,je)],38))}},Le=se(Be,[["__scopeId","data-v-c296dc87"]]);const He=me()({name:"VTooltip",props:{id:String,text:String,...ce(Ae({closeOnBack:!1,location:"end",locationStrategy:"connected",minWidth:0,offset:10,openOnClick:!1,openOnHover:!0,origin:"auto",scrim:!1,scrollStrategy:"reposition",transition:!1}),["absolute","persistent","eager"])},emits:{"update:modelValue":n=>!0},setup(n,E){let{slots:a}=E;const b=fe(n,"modelValue"),{scopeId:j}=Se(),C=ge(),v=T(()=>n.id||`v-tooltip-${C}`),x=u(),D=T(()=>n.location.split(" ").length>1?n.location:n.location+" center"),B=T(()=>n.origin==="auto"||n.origin==="overlap"||n.origin.split(" ").length>1||n.location.split(" ").length>1?n.origin:n.origin+" center"),y=T(()=>n.transition?n.transition:b.value?"scale-transition":"fade-transition"),V=T(()=>Q({"aria-describedby":v.value},n.activatorProps));return ye(()=>{const[h]=be(n);return e(ke,Q({ref:x,class:["v-tooltip"],id:v.value},h,{modelValue:b.value,"onUpdate:modelValue":t=>b.value=t,transition:y.value,absolute:!0,location:D.value,origin:B.value,persistent:!0,role:"tooltip",eager:!0,activatorProps:V.value,_disableGlobalStack:!0},j),{activator:a.activator,default:function(){var P,I;for(var t=arguments.length,c=new Array(t),w=0;w<t;w++)c[w]=arguments[w];return(I=(P=a.default)==null?void 0:P.call(a,...c))!=null?I:n.text}})}),Ee({},x)}}),We={class:"d-flex justify-center justify-md-center justify-lg-center"},Ne={class:"desc-detail text-md-h6 text-body-2 font-weight-bold ml-md-n3 text-white d-flex justify-center justify-lg-start"},$e={class:"d-flex justify-lg-start justify-center mt-n4 mt-md-0 mt-lg-n2 ml-md-n6 div-rating"},Me=p("p",{class:"mr-5"},"Adicionar ao Carrinho",-1),Ue=p("p",{class:"mr-16"},"Comprar Agora",-1),Fe=p("p",{class:"ml-6 mt-n1 desc-detail"}," Tirar duvidas sobre o item ",-1),Ge={class:"d-flex flex-column ml-0 ml-lg-10 text-detail"},Xe={class:"text-justify text-caption text-grey-lighten-3 text-md-body-1 ml-1 font-weight-medium ml-lg-6 desc-detail"},ft={__name:"DetailProduto",async setup(n){let E,a;const b=ee(()=>te(()=>import("./CardProdutos.65ba22fa.js"),["assets/CardProdutos.65ba22fa.js","assets/index.bfab535e.js","assets/index.390fc39f.css","assets/VRow.5238d267.js","assets/CRUD.ebf42a23.js","assets/CRUD.ebe453d7.css","assets/VAvatar.62c25bed.js","assets/transition.a7013c9d.js","assets/VAvatar.82361bce.css","assets/VCard.30f22632.js","assets/VCard.f7bfd9e0.css","assets/CardProdutos.044c4ea9.css"])),j=ee(()=>te(()=>import("./ModalEscCor.c37d9881.js"),["assets/ModalEscCor.c37d9881.js","assets/index.bfab535e.js","assets/index.390fc39f.css","assets/CRUD.ebf42a23.js","assets/CRUD.ebe453d7.css","assets/VCard.30f22632.js","assets/VAvatar.62c25bed.js","assets/transition.a7013c9d.js","assets/VAvatar.82361bce.css","assets/VCard.f7bfd9e0.css","assets/VRow.5238d267.js","assets/VSheet.97edbb83.js","assets/VSheet.d7fa3c0a.css"])),{smAndDown:C}=ae(),{saveInCarrinho:v}=xe(),{findById:x,selecionaCor:D,isNull:B,storeApp:y,router:V}=we(),{getAllProdutos:h,produto:t,produtos:c,tmpAuxiliar:w}=Ce(),P=ve(),I=u(0);u(null),u(null);const N=u(!1),_=u(!1),L=u(!1),A=u(null),O=u([]),l=u(null);[E,a]=he(()=>f()),await E,a();function d(r){_.value=r}async function f(){let r={Shop:"T"};t.value=await x("products",P.params.id,r),X(),I.value+=1}function g(r,i){A.value==null?(_.value=!0,L.value=r):v(t.value.ID,t.value.VALOR,A.value)}function F(r){v(t.value.ID,t.value.VALOR,r.color),L.value==!0&&V.push("/carrinho"),A.value==null&&$(r.color,r.index),_.value=!1}function G(){const r="https://api.whatsapp.com/send?phone=",i="45998463475",m="Boa%20Tarde%20gostaria%20de%20ter%20informa\xE7\xF5es%20sobre%20o%20item%20"+t.value.NOME+"%20Codigo%20"+t.value.ID,R=`${r}${i}&text=${m}`;window.open(R,"_blank").focus()}function $(r,i){l.value!=i&&(O.value[l.value]=!1),O.value[i]=!0,A.value=r,l.value=i,D()}async function X(){let r={current_page:1,opcao:null,start:null,end:null,search:null,Shop:"T",Precos:null,categoria:t.value.ID_CATEGORIA};N.value?(c.value=w.value,c.value=c.value.filter(i=>i.ID!==t.value.ID)):(c.value=await h(r),w.value=c.value,c.value=c.value.filter(i=>i.ID!==t.value.ID)),N.value=!0}async function Y(r){console.log(r),await V.push({name:"Produto-Detalhe",params:{id:parseInt(r)}}),O.value[l.value]=!1,A.value=null,f()}async function Z(){window.location.reload(),V.go(-1),I.value+=1}return(r,i)=>(k(),K(Ve,{fluid:"",key:I.value,class:"fill-height",style:J(s(B)(s(y).getTemas.SECUNDARIA)?"":s(y).getTemas.SECUNDARIA)},{default:o(()=>[e(q,{class:"d-flex justify-space-between mt-0 mt-md-0 flex-column flex-sm-row mt-n4"},{default:o(()=>[e(S,{class:"mt-md-n6",cols:"12"},{default:o(()=>[e(M,{icon:"",onClick:Z,class:"ml-md-n1",variant:"text"},{default:o(()=>[e(W,{color:"white"},{default:o(()=>[z(" mdi-arrow-left ")]),_:1})]),_:1})]),_:1}),e(S,{cols:"12",md:"12",lg:"12",class:"d-flex flex-md-row flex-column-reverse"},{default:o(()=>[e(q,{class:"d-flex"},{default:o(()=>[e(S,{cols:"12",md:"4",lg:"2",xl:"2",class:"d-flex flex-md-column flex-row"},{default:o(()=>[(k(!0),U(oe,null,le(s(t).CORES,(m,R)=>(k(),U("div",{class:"ml-lg-0 ml-md-8 ml-xl-5 ml-n4 d-flex justify-center flex-row flex-md-column",key:m.ID},[e(ze,{color:m.HASH,height:"45",width:"45",rounded:"",onClick:ne=>$(m.HASH,R),active:"",class:"ml-7 mt-md-2 mt-0 cores-selec d-flex justify-center align-center"},{default:o(()=>[O.value[R]==!0?(k(),K(W,{key:0,color:"green"},{default:o(()=>[z(" mdi-check ")]),_:1})):pe("",!0)]),_:2},1032,["color","onClick"])]))),128))]),_:1}),e(S,{cols:"12",md:"5",lg:"5",xl:"5",class:"d-flex justify-md-start justify-center"},{default:o(()=>[p("div",We,[e(Le,{"img-normal":s(t).IMAGE,scale:"2.0",min_height_md_lg:"230px",max_height_md_lg:"348px",max_height:"330px",min_height:"180px",max_height_xl:"400px",min_height_xl:"348px"},null,8,["img-normal","scale"])])]),_:1}),e(S,{cols:"12",md:"12",lg:"5"},{default:o(()=>[e(q,null,{default:o(()=>[e(S,{cols:"12",class:"d-flex justify-center flex-column"},{default:o(()=>[p("p",Ne,H(s(t).NOME)+" ("+H(parseFloat(s(t).VALOR).toLocaleString("pt-br",{style:"currency",currency:"BRL"}))+") ["+H(s(t).ESTOQUE)+"] "+H(s(t).medida.NOME)+"(s). ",1),p("div",$e,[e(Ie,{class:"mt-4",modelValue:s(t).AVALIACAO,"onUpdate:modelValue":i[0]||(i[0]=m=>s(t).AVALIACAO=m),"bg-color":"orange-lighten-1",color:"#FFD700",disabled:"","half-increments":""},null,8,["modelValue"]),e(He,{activator:"parent",location:"start"},{default:o(()=>[z("Popularidade do item ")]),_:1})]),e(M,{onClick:i[1]||(i[1]=m=>g(!1)),class:"desc-detail text-black ml-sm-n2 ml-0 mt-4 mt-md-3 btns-detail",rounded:""},{default:o(()=>[e(W,{left:"",dark:"",class:"mr-6"},{default:o(()=>[z(" mdi-cart ")]),_:1}),Me]),_:1}),e(M,{onClick:i[2]||(i[2]=m=>g(!0)),class:"desc-detail text-black ml-sm-n2 ml-0 mt-5 btns-detail",rounded:""},{default:o(()=>[e(W,{left:"",dark:"",class:"mr-10"},{default:o(()=>[z(" mdi-shopping-outline ")]),_:1}),Ue]),_:1}),e(M,{onClick:G,rounded:"",class:"text-black ml-sm-n2 ml-0 mt-5 btns-detail"},{default:o(()=>[e(W,{left:"",dark:"",class:"ml-3"},{default:o(()=>[z(" mdi-whatsapp ")]),_:1}),Fe]),_:1})]),_:1})]),_:1})]),_:1}),e(S,{cols:"12",md:"12",lg:"12",class:"d-flex justify-start mt-lg-8 mt-0"},{default:o(()=>[p("div",Ge,[p("p",Xe,H(s(t).DESC)+"... ",1)])]),_:1})]),_:1})]),_:1}),e(De,{class:"dividers"}),e(S,{cols:"12",md:"12",class:"d-flex mt-lg-6"},{default:o(()=>[e(Pe,{"selected-class":"bg-success","show-arrows":!s(C),"center-active":""},{default:o(()=>[(k(!0),U(oe,null,le(s(c),(m,R)=>(k(),K(Oe,{key:m.ID},{default:o(({toggle:ne,selectedClass:Ye})=>[e(s(b),{"width-card":s(C)?"180":"200","height-card":s(C)?"280":"345","height-img":s(C)?"120":"160",index:R,produto:m,onDetailProductEsp:Y},null,8,["width-card","height-card","height-img","index","produto"])]),_:2},1024))),128))]),_:1},8,["show-arrows"])]),_:1})]),_:1}),e(Re,{persistent:"",modelValue:_.value,"onUpdate:modelValue":i[3]||(i[3]=m=>_.value=m),onKeydown:i[4]||(i[4]=_e(m=>_.value=!1,["escape"]))},{default:o(()=>[e(s(j),{produto:s(t),onClose:d,onCorEsc:F},null,8,["produto"])]),_:1},8,["modelValue"])]),_:1},8,["style"]))}};export{ft as default};
