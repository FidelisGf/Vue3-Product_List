import{r as P,aE as ee,g as ae,I as T,m as te,f as le,E as ie,L as ne,p as se,an as Y,B as G,c as S,aF as M,t as V,b as u,k as D,aG as U,V as W,aH as X,K as ue,u as re,h as oe,o as N,a as H,w as A,s as ce,d as h,aI as J,z as ve,q as de,v as fe,x as ge,F as he,i as me}from"./index.bfab535e.js";import{m as ye,F as pe,a as be,b as _e,K as Pe,c as ke,k as Le,g as xe,h as Ve,r as B,C as Ie}from"./CRUD.ebf42a23.js";import{C as we}from"./Carrinho.09214ab3.js";import{P as Se}from"./ProdutoComp.b84400a2.js";import{V as Ae}from"./VContainer.3237684f.js";import{V as Q,a as q}from"./VRow.5238d267.js";import"./CarrinhoStore.bb7a2a0e.js";function Ce(){const e=P([]);ee(()=>e.value=[]);function k(o,C){e.value[C]=o}return{refs:e,updateRef:k}}const Re=ae()({name:"VPagination",props:{activeColor:String,start:{type:[Number,String],default:1},modelValue:{type:Number,default:e=>e.start},disabled:Boolean,length:{type:[Number,String],default:1,validator:e=>e%1===0},totalVisible:[Number,String],firstIcon:{type:T,default:"$first"},prevIcon:{type:T,default:"$prev"},nextIcon:{type:T,default:"$next"},lastIcon:{type:T,default:"$last"},ariaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.root"},pageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.page"},currentPageAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.currentPage"},firstAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.first"},previousAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.previous"},nextAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.next"},lastAriaLabel:{type:String,default:"$vuetify.pagination.ariaLabel.last"},ellipsis:{type:String,default:"..."},showFirstLastPage:Boolean,...ye(),...pe(),...be(),..._e(),...Pe(),...ke({tag:"nav"}),...te(),...Le({variant:"text"})},emits:{"update:modelValue":e=>!0,first:e=>!0,prev:e=>!0,next:e=>!0,last:e=>!0},setup(e,k){let{slots:o,emit:C}=k;const n=le(e,"modelValue"),{t:y,n:z}=ie(),{isRtl:s}=ne(),{themeClasses:p}=se(e),{width:O}=Y(),b=P(-1);G(void 0,{scoped:!0});const{resizeRef:L}=xe(t=>{if(!t.length)return;const{target:l,contentRect:i}=t[0],d=l.querySelector(".v-pagination__list > *");if(!d)return;const g=i.width,x=d.offsetWidth+parseFloat(getComputedStyle(d).marginRight)*2;b.value=F(g,x)}),c=S(()=>parseInt(e.length,10)),v=S(()=>parseInt(e.start,10)),r=S(()=>e.totalVisible?parseInt(e.totalVisible,10):b.value>=0?b.value:F(O.value,58));function F(t,l){const i=e.showFirstLastPage?5:3;return Math.max(0,Math.floor(+((t-l*i)/l).toFixed(2)))}const j=S(()=>{if(c.value<=0||isNaN(c.value)||c.value>Number.MAX_SAFE_INTEGER)return[];if(r.value<=1)return[n.value];if(c.value<=r.value)return M(c.value,v.value);const t=r.value%2===0,l=t?r.value/2:Math.floor(r.value/2),i=t?l:l+1,d=c.value-l;if(i-n.value>=0)return[...M(Math.max(1,r.value-1),v.value),e.ellipsis,c.value];if(n.value-d>=(t?1:0)){const g=r.value-1,x=c.value-g+v.value;return[v.value,e.ellipsis,...M(g,x)]}else{const g=Math.max(1,r.value-3),x=g===1?n.value:n.value-Math.ceil(g/2)+v.value;return[v.value,e.ellipsis,...M(g,x),e.ellipsis,c.value]}});function _(t,l,i){t.preventDefault(),n.value=l,i&&C(i,l)}const{refs:$,updateRef:R}=Ce();G({VPaginationBtn:{color:V(e,"color"),border:V(e,"border"),density:V(e,"density"),size:V(e,"size"),variant:V(e,"variant"),rounded:V(e,"rounded"),elevation:V(e,"elevation")}});const I=S(()=>j.value.map((t,l)=>{const i=d=>R(d,l);if(typeof t=="string")return{isActive:!1,key:`ellipsis-${l}`,page:t,props:{ref:i,ellipsis:!0,icon:!0,disabled:!0}};{const d=t===n.value;return{isActive:d,key:t,page:z(t),props:{ref:i,ellipsis:!1,icon:!0,disabled:!!e.disabled||e.length<2,color:d?e.activeColor:e.color,ariaCurrent:d,ariaLabel:y(d?e.currentPageAriaLabel:e.pageAriaLabel,t),onClick:g=>_(g,t)}}}})),f=S(()=>{const t=!!e.disabled||n.value<=v.value,l=!!e.disabled||n.value>=v.value+c.value-1;return{first:e.showFirstLastPage?{icon:s.value?e.lastIcon:e.firstIcon,onClick:i=>_(i,v.value,"first"),disabled:t,ariaLabel:y(e.firstAriaLabel),ariaDisabled:t}:void 0,prev:{icon:s.value?e.nextIcon:e.prevIcon,onClick:i=>_(i,n.value-1,"prev"),disabled:t,ariaLabel:y(e.previousAriaLabel),ariaDisabled:t},next:{icon:s.value?e.prevIcon:e.nextIcon,onClick:i=>_(i,n.value+1,"next"),disabled:l,ariaLabel:y(e.nextAriaLabel),ariaDisabled:l},last:e.showFirstLastPage?{icon:s.value?e.firstIcon:e.lastIcon,onClick:i=>_(i,v.value+c.value-1,"last"),disabled:l,ariaLabel:y(e.lastAriaLabel),ariaDisabled:l}:void 0}});function E(){var l;const t=n.value-v.value;(l=$.value[t])==null||l.$el.focus()}function K(t){t.key===U.left&&!e.disabled&&n.value>e.start?(n.value=n.value-1,W(E)):t.key===U.right&&!e.disabled&&n.value<v.value+c.value-1&&(n.value=n.value+1,W(E))}return Ve(()=>u(e.tag,{ref:L,class:["v-pagination",p.value],role:"navigation","aria-label":y(e.ariaLabel),onKeydown:K,"data-test":"v-pagination-root"},{default:()=>[u("ul",{class:"v-pagination__list"},[e.showFirstLastPage&&u("li",{key:"first",class:"v-pagination__first","data-test":"v-pagination-first"},[o.first?o.first(f.value.first):u(B,D({_as:"VPaginationBtn"},f.value.first),null)]),u("li",{key:"prev",class:"v-pagination__prev","data-test":"v-pagination-prev"},[o.prev?o.prev(f.value.prev):u(B,D({_as:"VPaginationBtn"},f.value.prev),null)]),I.value.map((t,l)=>u("li",{key:t.key,class:["v-pagination__item",{"v-pagination__item--is-active":t.isActive}],"data-test":"v-pagination-item"},[o.item?o.item(t):u(B,D({_as:"VPaginationBtn"},t.props),{default:()=>[t.page]})])),u("li",{key:"next",class:"v-pagination__next","data-test":"v-pagination-next"},[o.next?o.next(f.value.next):u(B,D({_as:"VPaginationBtn"},f.value.next),null)]),e.showFirstLastPage&&u("li",{key:"last",class:"v-pagination__last","data-test":"v-pagination-last"},[o.last?o.last(f.value.last):u(B,D({_as:"VPaginationBtn"},f.value.last),null)])])]})),{}}}),Ne={__name:"Produto",setup(e){const{smAndDown:k}=Y(),o=X(()=>J(()=>import("./Filtro.5077030f.js"),["assets/Filtro.5077030f.js","assets/index.bfab535e.js","assets/index.390fc39f.css","assets/CRUD.ebf42a23.js","assets/CRUD.ebe453d7.css","assets/VNavigationDrawer.1bf196c8.js","assets/index.1f704c04.js","assets/VAvatar.62c25bed.js","assets/transition.a7013c9d.js","assets/VAvatar.82361bce.css","assets/VDivider.8e7024f2.js","assets/VDivider.357e019d.css","assets/ssrBoot.071e0f11.js","assets/VNavigationDrawer.8d8d3581.css","assets/VTextField.792df56d.js","assets/forwardRefs.54bb1675.js","assets/VTextField.f91f0908.css","assets/dialog-transition.959ceb6f.js","assets/VOverlay.1dedc219.js","assets/getScrollParent.d1b4c30e.js","assets/VOverlay.72fa3373.css","assets/VSpacer.40249802.js","assets/VRow.5238d267.js","assets/Filtro.1e4f3265.css"])),C=X(()=>J(()=>import("./CardProdutos.65ba22fa.js"),["assets/CardProdutos.65ba22fa.js","assets/index.bfab535e.js","assets/index.390fc39f.css","assets/VRow.5238d267.js","assets/CRUD.ebf42a23.js","assets/CRUD.ebe453d7.css","assets/VAvatar.62c25bed.js","assets/transition.a7013c9d.js","assets/VAvatar.82361bce.css","assets/VCard.30f22632.js","assets/VCard.f7bfd9e0.css","assets/CardProdutos.044c4ea9.css"])),n=ue(),y=re(),{getAllProdutos:z,produtos:s,tmp:p,lastPage:O,categoria:b,current_page:L}=Se(),{saveInCarrinho:c}=we(),{getAllList:v,applyFilter:r,findById:F,isNull:j}=Ie(),_=P(""),$=P(0),R=P(""),I=P("");P([]);const f=P(null);oe(L,()=>{t()}),g();async function E(a){a.search==""&&a.check==null&&a.categoria==null?R.value=I.value=b.value=p.value=null:(R.value=a.search,I.value=a.check,b.value=a.categoria),await t()}async function K(a){let m={Shop:"T"},w=await F("getOneColorOfProduct",a.ID,m);c(a.ID,a.VALOR,w[0].HASH)}async function t(){$.value+=1;let a={current_page:L.value,search:R.value,Shop:"T",Precos:I.value,categoria:b.value};s.value=await z(a),f.value=s.value.length}async function l(a,m){a.type!="Search"&&(a.type="Search"),a.search.length<=_.value.length?s.value=await r(a,p.value):m?s.value=await r(a,s.value):s.value=await r(a,p.value)}async function i(a,m){a.type!="Check"&&(a.type="Check"),m?s.value=await r(a,p.value):s.value=await r(a,s.value)}async function d(a){if(p.value==null){let m=await r(a,s.value);p.value=s.value,s.value=m}else a.check==null&&a.categoria==null?await l(a,!0):a.categoria==null&&a.check!=null&&a.search!=null?(a.search!=""&&await l(a,!1),await i(a,!1)):a.check!=null&&a.categoria==null&&a.search==null&&await i(a,!0);a.search!=null&&(_.value=a.search),f.value=s.value.length}async function g(){let a={Shop:"T",Precos:I.value,categoria:b.value};await v("categorys",a)}function x(a){n.push({name:"Produto-Detalhe",params:{id:parseInt(a)}})}return(a,m)=>(N(),H(Ae,{class:"fill-height",style:ce(h(j)(h(y).getTemas.PRIMARIA)?"":h(y).getTemas.PRIMARIA),fluid:""},{default:A(()=>[u(h(o),{onSearch:E,onSearchPage:d}),(N(),H(Q,{color:"primary",class:"justify-center flex-row mt-2 mt-lg-0",key:$.value},{default:A(()=>[u(q,{cols:"12",class:"d-flex ml-md-14 mt-3 mt-md-0 justify-center justify-sm-start"},{default:A(()=>[ve("p",null,de(f.value)+" produto(s) encontrado(s) ",1)]),_:1}),(N(!0),fe(he,null,ge(h(s),(w,Z)=>(N(),H(q,{key:w.ID,cols:"6",md:"4",xl:"3",class:"d-flex justify-center"},{default:A(()=>[u(h(C),{"width-card":h(k)?"200":"230","height-card":h(k)?"335":"358","height-img":h(k)?"155":"175",index:Z,produto:w,onDetailProductEsp:x,onDefineCorEsp:K,detail:!1},null,8,["width-card","height-card","height-img","index","produto"])]),_:2},1024))),128))]),_:1})),u(Q,null,{default:A(()=>[u(q,{cols:"12",class:"justify-center"},{default:A(()=>[u(Re,{modelValue:h(L),"onUpdate:modelValue":m[0]||(m[0]=w=>me(L)?L.value=w:null),length:h(O),"total-visible":5},null,8,["modelValue","length"])]),_:1})]),_:1})]),_:1},8,["style"]))}};export{Ne as default};
